project(cpython)

add_library(cpython STATIC
 cpython/Include/Python.h
    cpython/Include/abstract.h
    cpython/Include/boolobject.h
    cpython/Include/bytearrayobject.h
    cpython/Include/bytesobject.h
    cpython/Include/ceval.h
    cpython/Include/codecs.h
    cpython/Include/compile.h
    cpython/Include/complexobject.h
    cpython/Include/cpython/abstract.h
    cpython/Include/cpython/bytearrayobject.h
    cpython/Include/cpython/bytesobject.h
    cpython/Include/cpython/cellobject.h
    cpython/Include/cpython/ceval.h
    cpython/Include/cpython/classobject.h
    cpython/Include/cpython/code.h
    cpython/Include/cpython/compile.h
    cpython/Include/cpython/complexobject.h
    cpython/Include/cpython/context.h
    cpython/Include/cpython/descrobject.h
    cpython/Include/cpython/dictobject.h
    cpython/Include/cpython/fileobject.h
    cpython/Include/cpython/fileutils.h
    cpython/Include/cpython/floatobject.h
    cpython/Include/cpython/frameobject.h
    cpython/Include/cpython/funcobject.h
    cpython/Include/cpython/genobject.h
    cpython/Include/cpython/import.h
    cpython/Include/cpython/initconfig.h
    cpython/Include/cpython/listobject.h
    cpython/Include/cpython/longintrepr.h
    cpython/Include/cpython/longobject.h
    cpython/Include/cpython/methodobject.h
    cpython/Include/cpython/modsupport.h
    cpython/Include/cpython/object.h
    cpython/Include/cpython/objimpl.h
    cpython/Include/cpython/odictobject.h
    cpython/Include/cpython/picklebufobject.h
    cpython/Include/cpython/pyctype.h
    cpython/Include/cpython/pydebug.h
    cpython/Include/cpython/pyerrors.h
    cpython/Include/cpython/pyfpe.h
    cpython/Include/cpython/pyframe.h
    cpython/Include/cpython/pylifecycle.h
    cpython/Include/cpython/pymem.h
    cpython/Include/cpython/pystate.h
    cpython/Include/cpython/pythonrun.h
    cpython/Include/cpython/pythread.h
    cpython/Include/cpython/pytime.h
    cpython/Include/cpython/setobject.h
    cpython/Include/cpython/sysmodule.h
    cpython/Include/cpython/traceback.h
    cpython/Include/cpython/tupleobject.h
    cpython/Include/cpython/unicodeobject.h
    cpython/Include/cpython/warnings.h
    cpython/Include/cpython/weakrefobject.h
    cpython/Include/datetime.h
    cpython/Include/descrobject.h
    cpython/Include/dictobject.h
    cpython/Include/dynamic_annotations.h
    cpython/Include/enumobject.h
    cpython/Include/errcode.h
    cpython/Include/fileobject.h
    cpython/Include/fileutils.h
    cpython/Include/floatobject.h
    cpython/Include/frameobject.h
    cpython/Include/import.h
    cpython/Include/internal/pycore_abstract.h
    cpython/Include/internal/pycore_accu.h
    cpython/Include/internal/pycore_asdl.h
    cpython/Include/internal/pycore_ast.h
    cpython/Include/internal/pycore_ast_state.h
    cpython/Include/internal/pycore_atomic.h
    cpython/Include/internal/pycore_atomic_funcs.h
    cpython/Include/internal/pycore_bitutils.h
    cpython/Include/internal/pycore_bytes_methods.h
    cpython/Include/internal/pycore_bytesobject.h
    cpython/Include/internal/pycore_call.h
    cpython/Include/internal/pycore_ceval.h
    cpython/Include/internal/pycore_code.h
    cpython/Include/internal/pycore_compile.h
    cpython/Include/internal/pycore_condvar.h
    cpython/Include/internal/pycore_context.h
    cpython/Include/internal/pycore_dtoa.h
    cpython/Include/internal/pycore_exceptions.h
    cpython/Include/internal/pycore_fileutils.h
    cpython/Include/internal/pycore_floatobject.h
    cpython/Include/internal/pycore_format.h
    cpython/Include/internal/pycore_function.h
    cpython/Include/internal/pycore_gc.h
    cpython/Include/internal/pycore_genobject.h
    cpython/Include/internal/pycore_getopt.h
    cpython/Include/internal/pycore_gil.h
    cpython/Include/internal/pycore_global_objects.h
    cpython/Include/internal/pycore_hamt.h
    cpython/Include/internal/pycore_hashtable.h
    cpython/Include/internal/pycore_import.h
    cpython/Include/internal/pycore_initconfig.h
    cpython/Include/internal/pycore_interp.h
    cpython/Include/internal/pycore_interpreteridobject.h
    cpython/Include/internal/pycore_list.h
    cpython/Include/internal/pycore_long.h
    cpython/Include/internal/pycore_moduleobject.h
    cpython/Include/internal/pycore_namespace.h
    cpython/Include/internal/pycore_object.h
    cpython/Include/internal/pycore_pathconfig.h
    cpython/Include/internal/pycore_pyarena.h
    cpython/Include/internal/pycore_pyerrors.h
    cpython/Include/internal/pycore_pyhash.h
    cpython/Include/internal/pycore_pylifecycle.h
    cpython/Include/internal/pycore_pymem.h
    cpython/Include/internal/pycore_pystate.h
    cpython/Include/internal/pycore_runtime.h
    cpython/Include/internal/pycore_runtime_init.h
    cpython/Include/internal/pycore_signal.h
    cpython/Include/internal/pycore_sliceobject.h
    cpython/Include/internal/pycore_strhex.h
    cpython/Include/internal/pycore_structseq.h
    cpython/Include/internal/pycore_sysmodule.h
    cpython/Include/internal/pycore_symtable.h
    cpython/Include/internal/pycore_traceback.h
    cpython/Include/internal/pycore_tuple.h
    cpython/Include/internal/pycore_typeobject.h
    cpython/Include/internal/pycore_ucnhash.h
    cpython/Include/internal/pycore_unionobject.h
    cpython/Include/internal/pycore_unicodeobject.h
    cpython/Include/internal/pycore_warnings.h
    cpython/Include/intrcheck.h
    cpython/Include/iterobject.h
    cpython/Include/listobject.h
    cpython/Include/longobject.h
    cpython/Include/marshal.h
    cpython/Include/memoryobject.h
    cpython/Include/methodobject.h
    cpython/Include/modsupport.h
    cpython/Include/moduleobject.h
    cpython/Include/object.h
    cpython/Include/objimpl.h
    cpython/Include/opcode.h
    cpython/Include/osdefs.h
    cpython/Include/osmodule.h
    cpython/Include/patchlevel.h
    cpython/Include/py_curses.h
    cpython/Include/pybuffer.h
    cpython/Include/pycapsule.h
    cpython/Include/pyerrors.h
    cpython/Include/pyexpat.h
    cpython/Include/pyframe.h
    cpython/Include/pyhash.h
    cpython/Include/pylifecycle.h
    cpython/Include/pymacro.h
    cpython/Include/pymath.h
    cpython/Include/pymem.h
    cpython/Include/pyport.h
    cpython/Include/pystate.h
    cpython/Include/pystrcmp.h
    cpython/Include/pystrtod.h
    cpython/Include/pythonrun.h
    cpython/Include/pythread.h
    cpython/Include/pytypedefs.h
    cpython/Include/rangeobject.h
    cpython/Include/setobject.h
    cpython/Include/sliceobject.h
    cpython/Include/structmember.h
    cpython/Include/structseq.h
    cpython/Include/sysmodule.h
    cpython/Include/token.h
    cpython/Include/traceback.h
    cpython/Include/tracemalloc.h
    cpython/Include/tupleobject.h
    cpython/Include/unicodeobject.h
    cpython/Include/weakrefobject.h
    cpython/Modules/_math.h
    cpython/Modules/rotatingtree.h
    cpython/Modules/_io/_iomodule.h
    cpython/Modules/cjkcodecs/alg_jisx0201.h
    cpython/Modules/cjkcodecs/cjkcodecs.h
    cpython/Modules/cjkcodecs/emu_jisx0213_2000.h
    cpython/Modules/cjkcodecs/mappings_cn.h
    cpython/Modules/cjkcodecs/mappings_hk.h
    cpython/Modules/cjkcodecs/mappings_jisx0213_pair.h
    cpython/Modules/cjkcodecs/mappings_jp.h
    cpython/Modules/cjkcodecs/mappings_kr.h
    cpython/Modules/cjkcodecs/mappings_tw.h
    cpython/Modules/cjkcodecs/multibytecodec.h
    cpython/Objects/stringlib/count.h
    cpython/Objects/stringlib/fastsearch.h
    cpython/Objects/stringlib/find.h
    cpython/Objects/stringlib/partition.h
    cpython/Objects/stringlib/replace.h
    cpython/Objects/stringlib/split.h
    cpython/Objects/unicodetype_db.h
    cpython/Parser/tokenizer.h
    cpython/Parser/string_parser.h
    cpython/Parser/pegen.h
    cpython/PC/errmap.h
    cpython/PC/pyconfig.h
    cpython/Python/ceval_gil.h
    cpython/Python/condvar.h
    cpython/Python/importdl.h
    cpython/Python/stdlib_module_names.h
    cpython/Python/thread_nt.h
    cpython/Modules/_abc.c
    cpython/Modules/_bisectmodule.c
    cpython/Modules/_blake2/blake2module.c
    cpython/Modules/_blake2/blake2b_impl.c
    cpython/Modules/_blake2/blake2s_impl.c
    cpython/Modules/_codecsmodule.c
    cpython/Modules/_collectionsmodule.c
    cpython/Modules/_contextvarsmodule.c
    cpython/Modules/_csv.c
    cpython/Modules/_functoolsmodule.c
    cpython/Modules/_heapqmodule.c
    cpython/Modules/_json.c
    cpython/Modules/_localemodule.c
    cpython/Modules/_lsprof.c
    cpython/Modules/_pickle.c
    cpython/Modules/_randommodule.c
    cpython/Modules/_sha3/sha3module.c
    cpython/Modules/_sre/sre.c
    cpython/Modules/_sre/sre.h
    cpython/Modules/_sre/sre_constants.h
    cpython/Modules/_sre/sre_lib.h
    cpython/Modules/_stat.c
    cpython/Modules/_struct.c
    cpython/Modules/_weakref.c
    cpython/Modules/arraymodule.c
    cpython/Modules/atexitmodule.c
    cpython/Modules/audioop.c
    cpython/Modules/binascii.c
    cpython/Modules/cmathmodule.c
    cpython/Modules/_datetimemodule.c
    cpython/Modules/errnomodule.c
    cpython/Modules/faulthandler.c
    cpython/Modules/gcmodule.c
    cpython/Modules/getbuildinfo.c
    cpython/Modules/getpath_noop.c
    cpython/Modules/itertoolsmodule.c
    cpython/Modules/main.c
    cpython/Modules/mathmodule.c
    cpython/Modules/md5module.c
    cpython/Modules/mmapmodule.c
    cpython/Modules/_opcode.c
    cpython/Modules/_operator.c
    cpython/Modules/posixmodule.c
    cpython/Modules/rotatingtree.c
    cpython/Modules/sha1module.c
    cpython/Modules/sha256module.c
    cpython/Modules/sha512module.c
    cpython/Modules/signalmodule.c
    cpython/Modules/_statisticsmodule.c
    cpython/Modules/symtablemodule.c
    cpython/Modules/_threadmodule.c
    cpython/Modules/_tracemalloc.c
    cpython/Modules/_typingmodule.c
    cpython/Modules/timemodule.c
    cpython/Modules/xxsubtype.c
    cpython/Modules/_xxsubinterpretersmodule.c
    cpython/Modules/_io/fileio.c
    cpython/Modules/_io/bytesio.c
    cpython/Modules/_io/stringio.c
    cpython/Modules/_io/bufferedio.c
    cpython/Modules/_io/iobase.c
    cpython/Modules/_io/textio.c
    cpython/Modules/_io/winconsoleio.c
    cpython/Modules/_io/_iomodule.c
    cpython/Modules/cjkcodecs/_codecs_cn.c
    cpython/Modules/cjkcodecs/_codecs_hk.c
    cpython/Modules/cjkcodecs/_codecs_iso2022.c
    cpython/Modules/cjkcodecs/_codecs_jp.c
    cpython/Modules/cjkcodecs/_codecs_kr.c
    cpython/Modules/cjkcodecs/_codecs_tw.c
    cpython/Modules/cjkcodecs/multibytecodec.c
    cpython/Modules/_winapi.c
    cpython/Objects/abstract.c
    cpython/Objects/accu.c
    cpython/Objects/boolobject.c
    cpython/Objects/bytearrayobject.c
    cpython/Objects/bytes_methods.c
    cpython/Objects/bytesobject.c
    cpython/Objects/call.c
    cpython/Objects/capsule.c
    cpython/Objects/cellobject.c
    cpython/Objects/classobject.c
    cpython/Objects/codeobject.c
    cpython/Objects/complexobject.c
    cpython/Objects/descrobject.c
    cpython/Objects/dictobject.c
    cpython/Objects/enumobject.c
    cpython/Objects/exceptions.c
    cpython/Objects/fileobject.c
    cpython/Objects/floatobject.c
    cpython/Objects/frameobject.c
    cpython/Objects/funcobject.c
    cpython/Objects/genericaliasobject.c
    cpython/Objects/genobject.c
    cpython/Objects/interpreteridobject.c
    cpython/Objects/iterobject.c
    cpython/Objects/listobject.c
    cpython/Objects/longobject.c
    cpython/Objects/memoryobject.c
    cpython/Objects/methodobject.c
    cpython/Objects/moduleobject.c
    cpython/Objects/namespaceobject.c
    cpython/Objects/object.c
    cpython/Objects/obmalloc.c
    cpython/Objects/odictobject.c
    cpython/Objects/picklebufobject.c
    cpython/Objects/rangeobject.c
    cpython/Objects/setobject.c
    cpython/Objects/sliceobject.c
    cpython/Objects/structseq.c
    cpython/Objects/tupleobject.c
    cpython/Objects/typeobject.c
    cpython/Objects/unicodectype.c
    cpython/Objects/unicodeobject.c
    cpython/Objects/unionobject.c
    cpython/Objects/weakrefobject.c
    cpython/Parser/myreadline.c
    cpython/Parser/tokenizer.c
    cpython/Parser/token.c
    cpython/Parser/pegen.c
    cpython/Parser/pegen_errors.c
    cpython/Parser/action_helpers.c
    cpython/Parser/parser.c
    cpython/Parser/string_parser.c
    cpython/Parser/peg_api.c
    cpython/PC/invalid_parameter_handler.c
    cpython/PC/winreg.c
    cpython/PC/config.c
    cpython/PC/msvcrtmodule.c
    cpython/Programs/_freeze_module.c
    cpython/Python/pyhash.c
    cpython/Python/_warnings.c
    cpython/Python/asdl.c
    cpython/Python/ast.c
    cpython/Python/ast_opt.c
    cpython/Python/ast_unparse.c
    cpython/Python/bltinmodule.c
    cpython/Python/bootstrap_hash.c
    cpython/Python/ceval.c
    cpython/Python/codecs.c
    cpython/Python/compile.c
    cpython/Python/context.c
    cpython/Python/dynamic_annotations.c
    cpython/Python/dynload_win.c
    cpython/Python/errors.c
    cpython/Python/fileutils.c
    cpython/Python/formatter_unicode.c
    cpython/Python/frame.c
    cpython/Python/future.c
    cpython/Python/getargs.c
    cpython/Python/getcompiler.c
    cpython/Python/getcopyright.c
    cpython/Python/getopt.c
    cpython/Python/getplatform.c
    cpython/Python/getversion.c
    cpython/Python/hamt.c
    cpython/Python/hashtable.c
    cpython/Python/import.c
    cpython/Python/importdl.c
    cpython/Python/initconfig.c
    cpython/Python/marshal.c
    cpython/Python/modsupport.c
    cpython/Python/mysnprintf.c
    cpython/Python/mystrtoul.c
    cpython/Python/pathconfig.c
    cpython/Python/preconfig.c
    cpython/Python/pyarena.c
    cpython/Python/pyctype.c
    cpython/Python/pyfpe.c
    cpython/Python/pylifecycle.c
    cpython/Python/pymath.c
    cpython/Python/pytime.c
    cpython/Python/pystate.c
    cpython/Python/pystrcmp.c
    cpython/Python/pystrhex.c
    cpython/Python/pystrtod.c
    cpython/Python/dtoa.c
    cpython/Python/Python-ast.c
    cpython/Python/Python-tokenize.c
    cpython/Python/pythonrun.c
    cpython/Python/specialize.c
    cpython/Python/suggestions.c
    cpython/Python/structmember.c
    cpython/Python/symtable.c
    cpython/Python/sysmodule.c
	)

target_include_directories(cpython PUBLIC cpython)
target_compile_definitions(cpython PUBLIC HAVE_CRC32)
dolphin_disable_warnings_msvc(cpython)

if(NOT MSVC)
  target_compile_options(cpython PRIVATE -Wno-unused-parameter -Wno-unused-result -Wno-unused-variable)
endif()

if(ANDROID)
  target_compile_definitions(cpython PRIVATE -Dfutimes=futimens)
endif()