project(cpython)

add_library(cpython STATIC
	cpython/Modules/_io/_iomodule.h
	cpython/Include/internal/pycore_parser.h 
	cpython/Parser/pegen.h
	cpython/Parser/string_parser.h
	cpython/Parser/tokenizer.h
	cpython/Modules/_decimal/libmpdec/basearith.h
	cpython/Modules/_decimal/libmpdec/bits.h
	cpython/Modules/_decimal/libmpdec/constants.h
	cpython/Modules/_decimal/libmpdec/convolute.h
	cpython/Modules/_decimal/libmpdec/crt.h
	cpython/Modules/_decimal/libmpdec/difradix2.h
	cpython/Modules/_decimal/libmpdec/fnt.h
	cpython/Modules/_decimal/libmpdec/fourstep.h
	cpython/Modules/_decimal/libmpdec/io.h
	cpython/Modules/_decimal/libmpdec/mpalloc.h
	cpython/Modules/_decimal/libmpdec/mpdecimal.h
	cpython/Modules/_decimal/libmpdec/numbertheory.h
	cpython/Modules/_decimal/libmpdec/sixstep.h
	cpython/Modules/_decimal/libmpdec/transpose.h
	cpython/Modules/_decimal/libmpdec/typearith.h
	cpython/Modules/_decimal/libmpdec/umodarith.h
	cpython/Modules/expat/ascii.h
	cpython/Modules/expat/asciitab.h
	cpython/Modules/expat/expat.h
	cpython/Modules/expat/expat_config.h
	cpython/Modules/expat/expat_external.h
	cpython/Modules/expat/iasciitab.h
	cpython/Modules/expat/internal.h
	cpython/Modules/expat/latin1tab.h
	cpython/Modules/expat/nametab.h
	cpython/Modules/expat/pyexpatns.h
	cpython/Modules/expat/siphash.h
	cpython/Modules/expat/utf8tab.h
	cpython/Modules/expat/xmlrole.h
	cpython/Modules/expat/xmltok.h
	cpython/Modules/expat/xmltok_impl.h
	cpython/Python/frozen_modules/importlib._bootstrap.h
	cpython/Programs/test_frozenmain.h
	cpython/Python/frozen_modules/importlib._bootstrap.h
	cpython/Python/frozen_modules/importlib._bootstrap_external.h
	cpython/Python/frozen_modules/zipimport.h
	cpython/Python/frozen_modules/abc.h
	cpython/Python/frozen_modules/codecs.h
	cpython/Python/frozen_modules/io.h
	cpython/Python/frozen_modules/_collections_abc.h
	cpython/Python/frozen_modules/_sitebuiltins.h
	cpython/Python/frozen_modules/genericpath.h
	cpython/Python/frozen_modules/ntpath.h
	cpython/Python/frozen_modules/posixpath.h
	cpython/Python/frozen_modules/os.h
	cpython/Python/frozen_modules/site.h
	cpython/Python/frozen_modules/stat.h
	cpython/Python/frozen_modules/importlib.util.h
	cpython/Python/frozen_modules/importlib.machinery.h
	cpython/Python/frozen_modules/runpy.h
	cpython/Python/frozen_modules/__hello__.h
	cpython/Python/frozen_modules/__phello__.h
	cpython/Python/frozen_modules/__phello__.ham.h
	cpython/Python/frozen_modules/__phello__.ham.eggs.h
	cpython/Python/frozen_modules/__phello__.spam.h
	cpython/Python/frozen_modules/frozen_only.h
	cpython/Python/frozen_modules/getpath.h
	cpython/Python/frozen_modules/importlib._bootstrap.h
	cpython/Python/frozen_modules/importlib._bootstrap_external.h
	cpython/Python/frozen_modules/zipimport.h
	cpython/Python/frozen_modules/abc.h
	cpython/Python/frozen_modules/codecs.h
	cpython/Python/frozen_modules/io.h
	cpython/Python/frozen_modules/_collections_abc.h
	cpython/Python/frozen_modules/_sitebuiltins.h
	cpython/Python/frozen_modules/genericpath.h
	cpython/Python/frozen_modules/ntpath.h
	cpython/Python/frozen_modules/posixpath.h
	cpython/Python/frozen_modules/os.h
	cpython/Python/frozen_modules/site.h
	cpython/Python/frozen_modules/stat.h
	cpython/Python/frozen_modules/importlib.util.h
	cpython/Python/frozen_modules/importlib.machinery.h
	cpython/Python/frozen_modules/runpy.h
	cpython/Python/frozen_modules/__hello__.h
	cpython/Python/frozen_modules/__phello__.h
	cpython/Python/frozen_modules/__phello__.ham.h
	cpython/Python/frozen_modules/__phello__.ham.eggs.h
	cpython/Python/frozen_modules/__phello__.spam.h
	cpython/Python/frozen_modules/frozen_only.h
	cpython/Python/deepfreeze/deepfreeze.c
	cpython/Python/frozen_modules/getpath.h
	cpython/Modules/getpath.c
	cpython/Programs/python.c
	cpython/Programs/_testembed.c
	cpython/Programs/test_frozenmain.h
	cpython/Modules/_sre/sre.c
	cpython/Modules/_sre/sre_constants.h
	cpython/Modules/_sre/sre_lib.h
	cpython/Modules/posixmodule.c
	cpython/Modules/grpmodule.c
	cpython/Modules/pwdmodule.c
	cpython/Modules/signalmodule.c
	cpython/Python/dynload_shlib.c
	cpython/Python/dynload_hpux.c
	cpython/Python/sysmodule.c
	cpython/Include/pydtrace.h
	cpython/Include/internal/pycore_ast.h
	cpython/Include/internal/pycore_ast_state.h
	cpython/Python/Python-ast.c
	cpython/Include/opcode.h
	cpython/Include/internal/pycore_opcode.h
	cpython/Include/token.h
	cpython/Parser/token.c
	cpython/Python/stdlib_module_names.h
	cpython/Modules/_sre/sre_constants.h
	cpython/Modules/_sre/sre_targets.h
	cpython/Python/getplatform.c
	cpython/Python/importdl.c
	cpython/Objects/unicodectype.c
	cpython/Objects/unicodetype_db.h
	cpython/Objects/stringlib/count.h
	cpython/Objects/stringlib/ctype.h
	cpython/Objects/stringlib/fastsearch.h
	cpython/Objects/stringlib/find.h
	cpython/Objects/stringlib/join.h
	cpython/Objects/stringlib/partition.h
	cpython/Objects/stringlib/split.h
	cpython/Objects/stringlib/stringdefs.h
	cpython/Objects/stringlib/transmogrify.h
	cpython/Objects/stringlib/asciilib.h
	cpython/Objects/stringlib/codecs.h
	cpython/Objects/stringlib/count.h
	cpython/Objects/stringlib/fastsearch.h
	cpython/Objects/stringlib/find.h
	cpython/Objects/stringlib/find_max_char.h
	cpython/Objects/stringlib/localeutil.h
	cpython/Objects/stringlib/partition.h
	cpython/Objects/stringlib/replace.h
	cpython/Objects/stringlib/split.h
	cpython/Objects/stringlib/ucs1lib.h
	cpython/Objects/stringlib/ucs2lib.h
	cpython/Objects/stringlib/ucs4lib.h
	cpython/Objects/stringlib/undef.h
	cpython/Objects/stringlib/unicode_format.h
	cpython/Objects/stringlib/unicodedefs.h
	cpython/Objects/bytes_methods.c
	cpython/Objects/bytesobject.c
	cpython/Objects/bytearrayobject.c
	cpython/Objects/unicodeobject.c
	cpython/Objects/stringlib/eq.h
	cpython/Python/opcode_targets.h
	cpython/Python/ceval_gil.h
	cpython/Python/condvar.h
	cpython/Include/pydtrace.h
	cpython/Include/typeslots.h
	cpython/Include/Python.h
	cpython/Include/abstract.h
	cpython/Include/bltinmodule.h
	cpython/Include/boolobject.h
	cpython/Include/bytearrayobject.h
	cpython/Include/bytesobject.h
	cpython/Include/ceval.h
	cpython/Include/codecs.h
	cpython/Include/compile.h
	cpython/Include/complexobject.h
	cpython/Include/descrobject.h
	cpython/Include/dictobject.h
	cpython/Include/dynamic_annotations.h
	cpython/Include/enumobject.h
	cpython/Include/errcode.h
	cpython/Include/fileobject.h
	cpython/Include/fileutils.h
	cpython/Include/floatobject.h
	cpython/Include/frameobject.h
	cpython/Include/import.h
	cpython/Include/intrcheck.h
	cpython/Include/iterobject.h
	cpython/Include/listobject.h
	cpython/Include/longobject.h
	cpython/Include/marshal.h
	cpython/Include/memoryobject.h
	cpython/Include/methodobject.h
	cpython/Include/modsupport.h
	cpython/Include/moduleobject.h
	cpython/Include/object.h
	cpython/Include/objimpl.h
	cpython/Include/opcode.h
	cpython/Include/osdefs.h
	cpython/Include/osmodule.h
	cpython/Include/patchlevel.h
	cpython/Include/pybuffer.h
	cpython/Include/pycapsule.h
	cpython/Include/pydtrace.h
	cpython/Include/pyerrors.h
	cpython/Include/pyframe.h
	cpython/Include/pyhash.h
	cpython/Include/pylifecycle.h
	cpython/Include/pymacconfig.h
	cpython/Include/pymacro.h
	cpython/Include/pymath.h
	cpython/Include/pymem.h
	cpython/Include/pyport.h
	cpython/Include/pystate.h
	cpython/Include/pystrcmp.h
	cpython/Include/pystrtod.h
	cpython/Include/pythonrun.h
	cpython/Include/pythread.h
	cpython/Include/pytypedefs.h
	cpython/Include/rangeobject.h
	cpython/Include/setobject.h
	cpython/Include/sliceobject.h
	cpython/Include/structmember.h
	cpython/Include/structseq.h
	cpython/Include/sysmodule.h
	cpython/Include/token.h
	cpython/Include/traceback.h
	cpython/Include/tracemalloc.h
	cpython/Include/tupleobject.h
	cpython/Include/unicodeobject.h
	cpython/Include/warnings.h
	cpython/Include/weakrefobject.h
	cpython/Include/cpython/abstract.h
	cpython/Include/cpython/bytearrayobject.h
	cpython/Include/cpython/bytesobject.h
	cpython/Include/cpython/cellobject.h
	cpython/Include/cpython/ceval.h
	cpython/Include/cpython/classobject.h
	cpython/Include/cpython/code.h
	cpython/Include/cpython/compile.h
	cpython/Include/cpython/complexobject.h
	cpython/Include/cpython/context.h
	cpython/Include/cpython/descrobject.h
	cpython/Include/cpython/dictobject.h
	cpython/Include/cpython/fileobject.h
	cpython/Include/cpython/fileutils.h
	cpython/Include/cpython/floatobject.h
	cpython/Include/cpython/frameobject.h
	cpython/Include/cpython/funcobject.h
	cpython/Include/cpython/genobject.h
	cpython/Include/cpython/import.h
	cpython/Include/cpython/initconfig.h
	cpython/Include/cpython/listobject.h
	cpython/Include/cpython/longintrepr.h
	cpython/Include/cpython/longobject.h
	cpython/Include/cpython/methodobject.h
	cpython/Include/cpython/modsupport.h
	cpython/Include/cpython/object.h
	cpython/Include/cpython/objimpl.h
	cpython/Include/cpython/odictobject.h
	cpython/Include/cpython/picklebufobject.h
	cpython/Include/cpython/pthread_stubs.h
	cpython/Include/cpython/pyctype.h
	cpython/Include/cpython/pydebug.h
	cpython/Include/cpython/pyerrors.h
	cpython/Include/cpython/pyfpe.h
	cpython/Include/cpython/pyframe.h
	cpython/Include/cpython/pylifecycle.h
	cpython/Include/cpython/pymem.h
	cpython/Include/cpython/pystate.h
	cpython/Include/cpython/pythonrun.h
	cpython/Include/cpython/pythread.h
	cpython/Include/cpython/pytime.h
	cpython/Include/cpython/setobject.h
	cpython/Include/cpython/sysmodule.h
	cpython/Include/cpython/traceback.h
	cpython/Include/cpython/tupleobject.h
	cpython/Include/cpython/unicodeobject.h
	cpython/Include/cpython/warnings.h
	cpython/Include/cpython/weakrefobject.h
	cpython/Include/internal/pycore_abstract.h
	cpython/Include/internal/pycore_accu.h
	cpython/Include/internal/pycore_asdl.h
	cpython/Include/internal/pycore_ast.h
	cpython/Include/internal/pycore_ast_state.h
	cpython/Include/internal/pycore_atomic.h
	cpython/Include/internal/pycore_atomic_funcs.h
	cpython/Include/internal/pycore_bitutils.h
	cpython/Include/internal/pycore_bytes_methods.h
	cpython/Include/internal/pycore_bytesobject.h
	cpython/Include/internal/pycore_call.h
	cpython/Include/internal/pycore_ceval.h
	cpython/Include/internal/pycore_code.h
	cpython/Include/internal/pycore_compile.h
	cpython/Include/internal/pycore_condvar.h
	cpython/Include/internal/pycore_context.h
	cpython/Include/internal/pycore_dict.h
	cpython/Include/internal/pycore_dtoa.h
	cpython/Include/internal/pycore_exceptions.h
	cpython/Include/internal/pycore_fileutils.h
	cpython/Include/internal/pycore_floatobject.h
	cpython/Include/internal/pycore_format.h
	cpython/Include/internal/pycore_function.h
	cpython/Include/internal/pycore_genobject.h
	cpython/Include/internal/pycore_getopt.h
	cpython/Include/internal/pycore_gil.h
	cpython/Include/internal/pycore_global_objects.h
	cpython/Include/internal/pycore_hamt.h
	cpython/Include/internal/pycore_hashtable.h
	cpython/Include/internal/pycore_import.h
	cpython/Include/internal/pycore_initconfig.h
	cpython/Include/internal/pycore_interp.h
	cpython/Include/internal/pycore_interpreteridobject.h
	cpython/Include/internal/pycore_list.h
	cpython/Include/internal/pycore_long.h
	cpython/Include/internal/pycore_moduleobject.h
	cpython/Include/internal/pycore_namespace.h
	cpython/Include/internal/pycore_object.h
	cpython/Include/internal/pycore_pathconfig.h
	cpython/Include/internal/pycore_pyarena.h
	cpython/Include/internal/pycore_pyerrors.h
	cpython/Include/internal/pycore_pyhash.h
	cpython/Include/internal/pycore_pylifecycle.h
	cpython/Include/internal/pycore_pymem.h
	cpython/Include/internal/pycore_pystate.h
	cpython/Include/internal/pycore_runtime.h
	cpython/Include/internal/pycore_runtime_init.h
	cpython/Include/internal/pycore_signal.h
	cpython/Include/internal/pycore_sliceobject.h
	cpython/Include/internal/pycore_strhex.h
	cpython/Include/internal/pycore_structseq.h
	cpython/Include/internal/pycore_symtable.h
	cpython/Include/internal/pycore_sysmodule.h
	cpython/Include/internal/pycore_traceback.h
	cpython/Include/internal/pycore_tuple.h
	cpython/Include/internal/pycore_typeobject.h
	cpython/Include/internal/pycore_ucnhash.h
	cpython/Include/internal/pycore_unionobject.h
	cpython/Include/internal/pycore_unicodeobject.h
	cpython/Include/internal/pycore_warnings.h
	cpython/Python/stdlib_module_names.h
	cpython/Include/pydtrace_probes.h
	cpython/Python/thread_nt.h
	cpython/Python/thread_pthread.h
	cpython/Python/thread_pthread_stubs.h
	cpython/Python/condvar.h
	cpython/Modules/_math.h
	cpython/Modules/unicodedata_db.h
	cpython/Modules/unicodename_db.h
	cpython/Modules/_blake2/impl/blake2-config.h
	cpython/Modules/_blake2/impl/blake2-impl.h
	cpython/Modules/_blake2/impl/blake2.h
	cpython/Modules/_blake2/impl/blake2b-load-sse2.h
	cpython/Modules/_blake2/impl/blake2b-load-sse41.h
	cpython/Modules/_blake2/impl/blake2b-ref.c
	cpython/Modules/_blake2/impl/blake2b-round.h
	cpython/Modules/_blake2/impl/blake2b.c
	cpython/Modules/_blake2/impl/blake2s-load-sse2.h
	cpython/Modules/_blake2/impl/blake2s-load-sse41.h
	cpython/Modules/_blake2/impl/blake2s-load-xop.h
	cpython/Modules/_blake2/impl/blake2s-ref.c
	cpython/Modules/_blake2/impl/blake2s-round.h
	cpython/Modules/_blake2/impl/blake2s.c
	cpython/Modules/_blake2/blake2module.h
	cpython/Modules/hashlib.h
	cpython/Modules/_ctypes/ctypes.h
	cpython/Modules/_decimal/docstrings.h
	cpython/Modules/pyexpat.c
	cpython/Modules/_io/_iomodule.h
	cpython/Modules/_sha3/sha3.c
	cpython/Modules/socketmodule.h
	cpython/Modules/addrinfo.h
	cpython/Modules/getaddrinfo.c
	cpython/Modules/getnameinfo.c
	cpython/Modules/_ssl.h
	cpython/Modules/_ssl/cert.c
	cpython/Modules/_ssl/debughelpers.c
	cpython/Modules/_ssl/misc.c
	cpython/Modules/_ssl_data.h
	cpython/Modules/_ssl_data_111.h
	cpython/Modules/_ssl_data_300.h
	cpython/Modules/testcapi_long.h
	cpython/Modules/_sqlite/connection.h
	cpython/Modules/_sqlite/cursor.h
	cpython/Modules/_sqlite/microprotocols.h
	cpython/Modules/_sqlite/module.h
	cpython/Modules/_sqlite/prepare_protocol.h
	cpython/Modules/_sqlite/row.h
	cpython/Modules/_sqlite/util.h
	cpython/Modules/atexitmodule.c
	cpython/Modules/config.c
	cpython/Modules/faulthandler.c
	cpython/Modules/posixmodule.c
	cpython/Modules/signalmodule.c
	cpython/Modules/_tracemalloc.c
	cpython/Modules/_codecsmodule.c
	cpython/Modules/_collectionsmodule.c
	cpython/Modules/errnomodule.c
	cpython/Modules/_io/_iomodule.c
	cpython/Modules/_io/iobase.c
	cpython/Modules/_io/fileio.c
	cpython/Modules/_io/bytesio.c
	cpython/Modules/_io/bufferedio.c
	cpython/Modules/_io/textio.c
	cpython/Modules/_io/stringio.c
	cpython/Modules/itertoolsmodule.c
	cpython/Modules/_sre/sre.c
	cpython/Modules/_threadmodule.c
	cpython/Modules/timemodule.c
	cpython/Modules/_weakref.c
	cpython/Modules/_abc.c
	cpython/Modules/_functoolsmodule.c
	cpython/Modules/_localemodule.c
	cpython/Modules/_operator.c
	cpython/Modules/_stat.c
	cpython/Modules/symtablemodule.c
	cpython/Modules/xxsubtype.c
	)

target_include_directories(cpython PUBLIC cpython)
target_compile_definitions(cpython PUBLIC HAVE_CRC32)
dolphin_disable_warnings_msvc(cpython)

if(NOT MSVC)
  target_compile_options(cpython PRIVATE -Wno-unused-parameter -Wno-unused-result -Wno-unused-variable)
endif()

if(ANDROID)
  target_compile_definitions(cpython PRIVATE -Dfutimes=futimens)
endif()